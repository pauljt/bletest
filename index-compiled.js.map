{"version":3,"sources":["index.js"],"names":[],"mappings":";;AAEA,SAAS,EAAT,GAAc;AACZ,UAAQ,GAAR,CAAY,OAAZ,EADY;AAEZ,UAAQ,GAAR,CAAY,OAAO,MAAP,CAAc,eAAd,CAA8B,SAA9B,CAAwC,WAAxC,CAAZ;;;;AAFY,MAMR,MAAM;AACR,UAAM,SAAN;AACA,gBAAY,KAAZ;;AAEA,kBAAc,sCAAd;AACA,mBAAe,sCAAf;AACA,sBAAkB,sCAAlB;AACA,wBAAoB,sCAApB;AACA,mBAAe,sCAAf;AACA,mBAAe,sCAAf;AACA,mBAAe,sCAAf;AACA,sBAAkB,sCAAlB;AACA,6BAAyB,sCAAzB;AACA,mBAAe,sCAAf;AACA,mBAAe,sCAAf;;AAEA,kBAAc,sCAAd;AACA,sBAAkB,sCAAlB;AACA,uBAAmB,sCAAnB;AACA,mBAAe,sCAAf;;AAEA,oBAAgB,sCAAhB;AACA,qBAAiB,sCAAjB;AACA,qBAAiB,sCAAjB;AACA,qBAAiB,sCAAjB;;AAEA,mBAAe,oBAAf;AACA,uBAAmB,0BAAnB;AACA,sBAAkB,sBAAlB;AACA,qBAAiB,qBAAjB;AACA,4BAAwB,0BAAxB;AACA,oBAAgB,0BAAhB;GA/BE,CANQ;;AAwCZ,MAAI,UAAU;AACZ,aAAS,CAAC;AACR,gBAAU,CAAC,sCAAD,CAAV;AACA,YAAM,SAAN;AACA,kBAAY,KAAZ;KAHO,CAAT;GADE,CAxCQ;;AAgDZ,YAAU,SAAV,CAAoB,aAApB,CAAkC,OAAlC,EACG,IADH,CACQ;WAAU,OAAO,WAAP;GAAV,CADR,CAEG,IAFH,CAEQ;WAAU,OAAO,iBAAP,CAAyB,IAAI,aAAJ;GAAnC,CAFR,CAGG,IAHH,CAGQ,mBAAW;AACf,WAAO,QAAQ,GAAR,CAAY,CACjB,QAAQ,iBAAR,CAA0B,IAAI,eAAJ,CAA1B,CAA+C,IAA/C,CAAoD,UAApD,CADiB,EAEjB,QAAQ,iBAAR,CAA0B,IAAI,sBAAJ,CAA1B,CAAsD,IAAtD,CAA2D,UAA3D,CAFiB,CAAZ,CAAP,CADe;GAAX,CAHR,CAOK,KAPL,CAOW,UAAS,CAAT,EAAW;AAClB,YAAQ,GAAR,CAAY,QAAZ,EAAqB,CAArB,EADkB;GAAX,CAPX,CAhDY;CAAd;;AA4DA,SAAS,UAAT,CAAoB,cAApB,EAAoC;AAClC,iBAAe,SAAf,GACG,IADH,CACQ,gBAAQ;AACZ,UAAM,cAAY,IAAZ,CAAN,CADY;GAAR,CADR,CADkC;CAApC;;AAOA,OAAO,gBAAP,CAAwB,MAAxB,EAAgC,YAAY;AAC1C,WAAS,aAAT,CAAuB,KAAvB,EAA8B,gBAA9B,CAA+C,OAA/C,EAAwD,EAAxD,EAD0C;CAAZ,CAAhC","file":"index-compiled.js","sourcesContent":["\n\nfunction go() {\n  console.log('start')\n  console.log(window.webkit.messageHandlers.bluetooth.postMessage)\n\n  // NOTE: connected to services with IOS & BB8 requires upper-case UUIDS\n  // But the spec seems to require lower case?\n  var BB8 = {\n    name: \"BB-7687\",\n    namePrefix: \"BB-\",\n\n    radioService: \"22BB746F-2BB0-7554-2D6F-726568705327\",\n    radioChar2BB1: \"22BB746F-2BB1-7554-2D6F-726568705327\",\n    radioCharTXPower: \"22BB746F-2BB2-7554-2D6F-726568705327\",\n    radioCharDeepSleep: \"22BB746F-2BB6-7554-2D6F-726568705327\",\n    radioChar2BB8: \"22BB746F-2BB8-7554-2D6F-726568705327\",\n    radioChar2BB9: \"22BB746F-2BB9-7554-2D6F-726568705327\",\n    radioChar2BBA: \"22BB746F-2BBA-7554-2D6F-726568705327\",\n    radioCharAntiDoS: \"22BB746F-2BBD-7554-2D6F-726568705327\",\n    radioCharAntiDoSTimeout: \"22BB746F-2BBE-7554-2D6F-726568705327\",\n    radioCharWake: \"22BB746F-2BBF-7554-2D6F-726568705327\",\n    radioChar3BBA: \"22BB746F-3BBA-7554-2D6F-726568705327\",\n\n    robotService: \"22BB746F-2BA0-7554-2D6F-726568705327\",\n    robotCharControl: \"22BB746F-2BA1-7554-2D6F-726568705327\",\n    robotCharResponse: \"22BB746F-2BA6-7554-2D6F-726568705327\",\n    robotChar2BB7: \"22BB746F-2BB7-7554-2D6F-726568705327\",\n\n    mysteryService: \"00001016-D102-11E1-9B23-00025B00A5A5\",\n    mysteryChar1013: \"00001013-D102-11E1-9B23-00025B00A5A5\",\n    mysteryChar1017: \"00001017-D102-11E1-9B23-00025B00A5A5\",\n    mysteryChar1014: \"00001014-D102-11E1-9B23-00025B00A5A5\",\n\n    deviceService: \"device_information\",\n    deviceCharHarware: \"hardware_revision_string\",\n    deviceCharSerial: \"serial_number_string\",\n    deviceCharModel: \"model_number_string\",\n    deviceCharManufacturer: \"manufacturer_name_string\",\n    deviceCharFirm: \"firmware_revision_string\",\n  };\n\n  var options = {\n    filters: [{\n      services: ['22BB746F-2BA0-7554-2D6F-726568705327'],\n      name: \"BB-7687\",\n      namePrefix: \"BB-\"\n    }]\n  };\n\n  navigator.bluetooth.requestDevice(options)\n    .then(device => device.connectGATT())\n    .then(server => server.getPrimaryService(BB8.deviceService))\n    .then(service => {\n      return Promise.all([\n        service.getCharacteristic(BB8.deviceCharModel).then(handleChar),\n        service.getCharacteristic(BB8.deviceCharManufacturer).then(handleChar)]);\n    }).catch(function(e){\n      console.log(\"Error:\",e);\n    });\n}\n\nfunction handleChar(characteristic) {\n  characteristic.readValue()\n    .then(data => {\n      alert(\"Got Char:\"+data);\n    })\n}\n\nwindow.addEventListener('load', function () {\n  document.querySelector(\"#go\").addEventListener('click', go)\n});"]}